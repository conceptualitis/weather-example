var createStore = require('fluxible-app/utils/createStore');

module.exports = createStore({
    storeName: 'ForecastStore',

    handlers: {
        'RECEIVE_FORECAST': 'receiveForecast'
    },

    initialize: function () {
        this.forecast = {};
    },

    dehydrate: function () {
        return this.forecast;
    },

    rehydrate: function (state) {
        this.forecast = state.forecast;
    },

    receiveForecast: function (forecast) {
        this.forecast = forecast;
        this.emitChange();
    },

    getForecast: function () {
        return this.forecast;
    }
});
