var React = require('react'),
    TimePicker = require('app/components/time-picker');

module.exports = React.createClass({
    getInitialState: function () {
        return {
            hour: this.props.defaultHour
        };
    },

    withinAnHourOf: function (point) {
        return (this.props.forecast[this.state.hour].time < this.props[point] + 1800 &&
        this.props.forecast[this.state.hour].time > this.props[point] - 1800);
    },

    render: function () {
        var classes = 'hour' + 
            ((this.props.right) ? ' right' : '') +
            ((this.withinAnHourOf('dawn')) ? ' dawn' : '') +
            ((this.withinAnHourOf('sunset')) ? ' sunset' : '');

        return (
            <div className={ classes }>
                <TimePicker hour={ this.state.hour } name={ this.props.name } />
                <span className='temperature'>
                    { Math.ceil(this.props.forecast[this.state.hour].temperature) }&deg;
                </span>
            </div>
        );
    }
});
