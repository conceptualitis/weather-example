var React = require('react'),
    Link = require('react-router').Link,
    StoreMixin = require('fluxible-app').StoreMixin,
    moment = require('moment'),
    ForecastStore = require('app/stores/forecast');

module.exports = React.createClass({
    mixins: [StoreMixin],

    getInitialState: function () {
        return {
            forecast: this.getStore(ForecastStore).getForecast(this.props.day)
        };
    },

    render: function () {
        var date = moment.unix(this.state.forecast.currently.time);

        return (
            <li className='ball'>
                <Link to='forecasts' params={{ day: this.props.day.toLowerCase() }}>
                    { date.format('MMM') }
                    <span className='day'>
                        { date.format('DDD') }
                    </span>
                </Link>
            </li>
        );
    }
});
