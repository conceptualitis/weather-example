var express = require('express'),
    router = express.Router(),
    loadForecast = require('app/actions/load-forecast');

router.get('/', function (req, res, next) {
    var payload = {
        day: req.params.day
    };
    
    req.context.getActionContext().executeAction(loadForecast, req.query, function () {
        next();
    });
});

router.get('/forecasts/:day', function (req, res, next) {
    var payload = {
        day: req.params.day
    };

    req.context.getActionContext().executeAction(loadForecast, payload, function () {
        next();
    });
});

module.exports = router;
